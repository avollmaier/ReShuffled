<?xml version="1.0" encoding="UTF-8"?>

<ClassDiagram name="Multi-file class diagram">
  <ClassDiagramComponents>
    <Class name="Serial" package="serial" visibility="public" xPosition="20.0" yPosition="20.0">
      <Fields>
        <Field name="LOG" type="Logger" visibility="private" isStatic="true" isFinal="true"/>
        <Field name="instance" type="Serial" visibility="private" isStatic="true"/>
        <Field name="config" type="ConfigSerialModel" visibility="private" isFinal="true"/>
        <Field name="inputStream" type="InputStream" visibility="private"/>
        <Field name="outputStream" type="OutputStream" visibility="private"/>
        <Field name="toSim" type="SimInputStreamBuffer" visibility="private"/>
        <Field name="fromSim" type="SimOutputStreamBuffer" visibility="private"/>
      </Fields>
      <Constructors>
        <Constructor visibility="private">
          <Argument type="ConfigSerialModel" name="config"/>
        </Constructor>
      </Constructors>
      <Methods>
        <Method name="createInstance" returnType="Serial" visibility="public" isStatic="true">
          <Argument type="ConfigSerialModel" name="config"/>
        </Method>
        <Method name="getInstance" returnType="Serial" visibility="public" isStatic="true"/>
        <Method name="getInputStream" returnType="InputStream" visibility="public"/>
        <Method name="getOutputStream" returnType="OutputStream" visibility="public"/>
        <Method name="initSimulation" returnType="void" visibility="private"/>
        <Method name="initSerialDevice" returnType="void" visibility="private"/>
        <Method name="writeString" returnType="void" visibility="public">
          <Argument type="String" name="s"/>
        </Method>
      </Methods>
    </Class>
    <Class name="Communication" package="serial" visibility="public" xPosition="320.0" yPosition="20.0">
      <Fields>
        <Field name="LOG" type="Logger" visibility="private" isStatic="true" isFinal="true"/>
        <Field name="instance" type="Communication" visibility="private" isStatic="true"/>
        <Field name="serial" type="Serial" visibility="private" isFinal="true"/>
        <Field name="communicationSendThread" type="Thread" visibility="private" isFinal="true"/>
        <Field name="communicationReceiveThread" type="Thread" visibility="private" isFinal="true"/>
        <Field name="toSentList" type="LinkedList&lt;Request&gt;" visibility="private" isFinal="true"/>
        <Field name="responseList" type="LinkedList&lt;Response&gt;" visibility="private" isFinal="true"/>
        <Field name="pendingRequest" type="Request" visibility="private"/>
        <Field name="timeoutMillis" type="long" visibility="private" isFinal="true"/>
        <Field name="maxReceiveFrameLength" type="int" visibility="private" isFinal="true"/>
      </Fields>
      <Constructors>
        <Constructor visibility="private">
          <Argument type="Serial" name="serial"/>
        </Constructor>
      </Constructors>
      <Methods>
        <Method name="createInstance" returnType="Communication" visibility="public" isStatic="true">
          <Argument type="Serial" name="serial"/>
        </Method>
        <Method name="getInstance" returnType="Communication" visibility="public" isStatic="true"/>
        <Method name="shutdown" returnType="void" visibility="public"/>
        <Method name="sendRequestExecutor" returnType="void" visibility="public">
          <Argument type="Request" name="req"/>
        </Method>
      </Methods>
    </Class>
  </ClassDiagramComponents>
  <ClassDiagramRelations>
    <HasRelation name="instance" source="serial.Serial" target="serial.Serial" type="Aggregation" sourceCardinality="1..1" targetCardinality="1..1"/>
    <UseRelation source="serial.Communication" target="serial.Communication" sourceCardinality="1..1" targetCardinality="1..1"/>
    <UseRelation source="serial.Serial" target="serial.Serial" sourceCardinality="1..1" targetCardinality="1..1"/>
    <HasRelation name="serial" source="serial.Communication" target="serial.Serial" type="Aggregation" sourceCardinality="1..1" targetCardinality="1..1"/>
    <HasRelation name="instance" source="serial.Communication" target="serial.Communication" type="Aggregation" sourceCardinality="1..1" targetCardinality="1..1"/>
  </ClassDiagramRelations>
</ClassDiagram>
